# PAT와 NAT에 대해서 설명해주세요.
### PAT(Port Address Translation)와 NAT(Network Address Translation)
- 인터넷을 사용할 때 공인 IP 주소(외부에서 접근 가능한 주소)는 제한적이지만, 사설 네트워크에서는 여러 장치들이 사설 IP 주소(내부 네트워크 전용 주소)를 사용
- 이때, NAT와 PAT은 내부 네트워크에서 공인 IP를 통해 인터넷을 사용할 수 있도록 도와주는 중요한 기술

## NAT (Network Address Translation, 네트워크 주소 변환)
> 내부 네트워크의 장치들이 인터넷과 통신할 수 있도록 IP 주소를 변환

### NAT의 종류
- **정적 NAT (Static NAT)**
  - 하나의 사설 IP 주소를 하나의 공인 IP 주소로 `1:1`로 매핑
  - 특정 내부 장치를 외부에서 접근해야 할 때 사용
  - 보안성 낮음 (항상 같은 IP 주소 사용)
- **동적 NAT (Dynamic NAT)**
  - `1:1` 매핑이지만, 사설 IP 주소를 변환할 때 공인 IP 주소 풀(pool)에서 유동적으로 할당
  - 내부 네트워크의 여러 장치들이 인터넷을 사용할 때 필요할 때만 공인 IP를 할당받음
  - 공인 IP 주소 개수가 한정적일 때 사용
- **PAT (Port Address Translation)**
  - 여러 개의 사설 IP 주소를 하나의 공인 IP 주소로 변환 &rarr; `NAT Overloading`
  - 포트 번호를 이용하여 여러 개의 장치가 동일한 공인 IP를 공유할 수 있도록 함 &rarr; 포트 포워딩

## PAT (Port Address Translation, 포트 주소 변환)
> 다수의 사설 IP 주소를 단 하나의 공인 IP 주소로 변환하지만, 포트 번호를 다르게 설정하여 구분

### PAT 작동 방식
![image](https://github.com/user-attachments/assets/3eb35a14-68f2-449c-a95a-5388a5c2c62b)
1. 내부 장치(사설 IP 주소를 가진 컴퓨터)가 인터넷에 접속하려고 요청을 보냄
2. 라우터(또는 게이트웨이)가 공인 IP 주소로 변환하면서 포트 번호를 변경하여 저장
3. 외부 서버가 공인 IP 주소와 포트 번호를 보고 응답을 보냄
4. 라우터가 포트 번호를 기반으로 원래 요청한 내부 장치로 응답을 전달
---
### NAT vs PAT
|특징|NAT|PAT|
|:--|:--|:--|
|공인 IP 주소 개수|여러 개 필요|1개만 사용 가능|
|포트 번호 변경 여부|변경 없음|변경됨 (다른 포트 할당)|
|사용 사례|내부 서버 운영|가정용 인터넷, 기업 네트워크|
|트래픽 관리|단순 변환|포트 기반으로 세밀한 관리|

### NAT와 PAT의 필요성
- **공인 IP 주소 부족 해결**
  - IPv4 주소가 부족하여 많은 장치들이 하나의 공인 IP를 공유해야 함
  - 특히 가정이나 회사에서 PAT를 통해 단 하나의 공인 IP만 사용
- **보안 강화**
  - 내부 IP 주소가 숨겨져 있기 때문에 외부에서 직접 접근하기 어려움
  - PAT는 포트 변경을 통해 더 높은 보안성을 제공
- **네트워크 관리 용이**
  - 내부 네트워크 구성 변경 없이 인터넷을 사용할 수 있음
