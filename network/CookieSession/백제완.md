## 쿠키와 세션의 차이에 대해 설명해 주세요.
> 쿠키와 세션은 웹에서 사용자 상태를 관리하기 위한 두가지 주요 방법

|항목|쿠키(Cookie)|세선(Session)|
|--|--|--|
|저장 위치|클라이언트(사용자의 브라우저)|서버(서버 메모리 or 데이터 베이스)|
|보안성|보안에 취약(클라이언트에서 조작 가능)|보안성이 높음(서버에서 관리)|
|유효 시간|만료 기간 설정 가능(영구적 저장도 가능)|기본적으로 브라우저 종료 시 삭제|
|데이터 크기|4KB 제한|서버가 허용하는 한 무제한|
|속도|클라이언트에서 관리되므로 빠름|서버에서 관리하므로 느릴 수 있음|
|사용 목적|로그인 유지, 사용자 설정 저장|로그인 정보 관리, 사용자 상태 유지|
|관리 주체|클라이언트|서버|
- **쿠키**는 클라이언트(브라우저)에 저장되며, 보안이 취약하지만 빠르고 가벼움
- **세션**은 서버에서 관리되며, 보안이 높지만 서버의 부하가 증가할 수 있음

## 세션 방식의 로그인 과정에 대해 설명해 주세요.
1. 사용자가 로그인 요청(POST요청)을 보냄
2. 서버에서 사용자 인증 수행
    - DB에서 유저의 ID, PW를 확인하고 인증이 성공하면 세션을 생성
3. 세션 저장 및 세션 ID 발급
    - 서버는 세션 ID를 생성하여 세션 저장소에 저장
    - 클라이언트에게 응답 헤더를 통해 세션 ID를 쿠키로 전달
4. 클라이언트가 요청 시 세선 ID 포함
5. 서버가 세션 확인 후 응답
   
## HTTP의 특성인 Stateless에 대해 설명해 주세요.
> Stateless(무상태성) 이란 HTTP 요청 간에 서버가 클라이언트의 상태를 저장하지 않는 것을 의미
- HTTP 요청은 독립적
- 서버는 이전 요청의 정보를 기억하지 않음
- 각각의 요청은 완벽한 정보를 포함해야 함

## Stateless의 의미를 살펴보면, 세션은 적절하지 않은 인증 방법 아닌가요?
> 세션 방식은 Stateful(상태 유지) &rarr; 서버가 사용자의 정보를 세션 저장소에 저장하기 때문에 Stateless 원칙과 맞지 않음

### 세션의 단점
- 서버가 사용자의 상태를 저장해야 하므로 서버의 부하가 증가
- 서버가 여러 개일 경우, 서버 간 세션 동기화가 필요

### 대안
- `JWT` + `Redis`
  - `JWT`를 사용하면 클라이언트가 모든 정보를 가지고 있으므로 서버가 상태를 저장할 필요가 없음
- `OAuth 2.0`

## 규모가 커져 서버가 여러 개가 된다면, 세션을 어떻게 관리할 수 있을까요?
> 서버가 여러 개일 경우 세션 동기화 문제가 발생

### Sticky Session (Session Affinity)
- 동일한 사용자를 항상 같은 서버로 보내는 방식 &rarr; 세션 유지
- 특정 서버에 부하가 집중될 수 있음

### 세션 클러스터링
- 여러 서버가 세션을 공유하도록 구성

### 외부 저장소에 세션 저장
- 세션을 서버가 아닌 `Redis`, `DB`, `Memcached` 등에 저장 &rarr; 부하 증가
- 모든 서버가 동일한 세션 데이터를 참조할 수 있음

### `JWT`를 이용한 Stateless
- `JWT`를 쿠키나 헤더에 저장하여 인증
- 모든 요청이 자체적으로 인증 정보를 포함하므로 Stateless 유지 가능
- 확장성이 뛰어나고 부하가 적음
- `JWT`가 탈취되면 보안에 취약함
