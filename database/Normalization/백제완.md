## **정규화(Normalization)란?** 
정규화(Normalization)는 **데이터베이스 설계에서 중복을 최소화하고, 데이터의 무결성을 보장**하기 위해 데이터를 여러 테이블로 분리하는 과정입니다. 이를 통해 **데이터의 일관성을 유지하고, 삽입·삭제·갱신 이상을 방지**할 수 있습니다.

---

## **정규화를 하지 않을 경우 발생할 수 있는 이상현상(Anomalies)**

1. **삽입 이상 (Insertion Anomaly)** 
   - 특정 데이터를 삽입하려면 불필요한 정보를 함께 입력해야 하는 문제  
   - 예: 학생이 동아리에 가입하지 않아도 학번과 이름을 저장해야 하는데, 동아리 정보를 같이 입력해야만 저장 가능하다면 불필요한 데이터가 포함됨.

2. **삭제 이상 (Deletion Anomaly)** 
   - 한 데이터를 삭제하면, 원하지 않는 다른 데이터까지 함께 삭제되는 문제  
   - 예: 한 동아리에 가입한 마지막 학생이 탈퇴하면, 해당 동아리 정보도 같이 삭제되는 경우.

3. **갱신 이상 (Update Anomaly)** 
   - 데이터의 중복으로 인해, 일부만 수정하면 데이터가 불일치하게 되는 문제  
   - 예: 학생의 지도 교수가 변경되었을 때, 여러 개의 중복된 데이터를 모두 수정해야 하는 경우.

---

## **각 정규화 과정과 테이블 변화**

### **① 제 1 정규형(1NF: First Normal Form)**
**조건** 
- 모든 컬럼이 **원자값(Atomic Value, 하나의 값)**을 가져야 한다.  
- 중복된 데이터가 존재할 수 있음.

**정규화 전 (반정규화 테이블)**
| 학번 | 이름  | 전화번호 |
|------|------|------------------|
| 101  | 홍길동 | 010-1111-2222, 02-333-4444 |
| 102  | 김영희 | 010-5555-6666 |

**정규화 후 (1NF)**
| 학번 | 이름  | 전화번호 |
|------|------|-------------|
| 101  | 홍길동 | 010-1111-2222 |
| 101  | 홍길동 | 02-333-4444 |
| 102  | 김영희 | 010-5555-6666 |

**변경점:** 
- 한 컬럼에 여러 개의 값이 들어가는 것을 방지하기 위해 데이터가 **행(Row) 단위로 분리됨**.

---

### **② 제 2 정규형(2NF: Second Normal Form)**
**조건** 
- 1NF를 만족해야 함.  
- **부분적 함수 종속(Partial Dependency) 제거**(기본키가 여러 개의 컬럼으로 이루어진 경우, 일부 속성만을 결정하는 관계 제거)

**정규화 전 (1NF)**
| 학번 | 이름  | 과목코드 | 과목명  | 교수명  |
|------|------|--------|------|------|
| 101  | 홍길동 | C101  | 데이터베이스 | 박교수 |
| 101  | 홍길동 | C102  | 운영체제 | 이교수 |

**정규화 후 (2NF)**
 **학생 테이블** 
| 학번 | 이름  |
|------|------|
| 101  | 홍길동 |

 **과목 테이블** 
| 과목코드 | 과목명  | 교수명  |
|--------|------|------|
| C101  | 데이터베이스 | 박교수 |
| C102  | 운영체제 | 이교수 |

 **수강 테이블** 
| 학번 | 과목코드 |
|------|--------|
| 101  | C101  |
| 101  | C102  |

**변경점:** 
- 학생 정보(학번, 이름)와 과목 정보(과목코드, 과목명, 교수명)를 분리하여 **부분적 종속성을 제거**.

---

### **③ 제 3 정규형(3NF: Third Normal Form)**
**조건** 
- 2NF를 만족해야 함.  
- **이행적 함수 종속(Transitive Dependency) 제거**(A → B, B → C 관계가 있을 때, A → C가 성립하는 관계 제거)

**정규화 전 (2NF)**
| 과목코드 | 과목명  | 교수ID | 교수명 |
|--------|------|------|------|
| C101  | 데이터베이스 | P01 | 박교수 |
| C102  | 운영체제 | P02 | 이교수 |

**정규화 후 (3NF)**
 **과목 테이블** 
| 과목코드 | 과목명  | 교수ID |
|--------|------|------|
| C101  | 데이터베이스 | P01 |
| C102  | 운영체제 | P02 |

 **교수 테이블** 
| 교수ID | 교수명 |
|------|------|
| P01 | 박교수 |
| P02 | 이교수 |

**변경점:** 
- 교수 정보가 과목 테이블에서 분리됨. (교수ID → 교수명으로 연결되는 **이행적 종속 관계 제거**)

---

## **정규화는 무조건 좋은가? (역정규화의 필요성)**
정규화는 **데이터 무결성 유지 및 중복 제거**에 큰 장점이 있지만, 단점도 존재합니다.

### **정규화의 단점**
1. **조인이 많아져 성능 저하** 
   - 테이블이 분리되면서 데이터를 조회할 때 많은 **JOIN 연산이 필요**하여 속도가 느려질 수 있음.
   
2. **실시간 데이터 처리 속도 저하** 
   - OLTP(Online Transaction Processing) 시스템처럼 **빠른 데이터 입력과 조회가 필요한 경우**정규화가 과도하면 성능이 저하될 수 있음.

3. **개발 복잡도 증가** 
   - 테이블이 많아지면서 관리가 어려워지고, 쿼리가 복잡해질 수 있음.

---

## **역정규화(Denormalization) 적용이 좋은 경우**
1. **읽기 성능이 중요한 경우** 
   - 정규화된 테이블을 여러 번 조인하는 대신, 하나의 테이블에서 조회할 수 있도록 중복을 허용하여 **읽기 성능을 향상**.
   
2. **실시간 데이터 처리 시스템 (OLTP)** 
   - 주문 내역, 결제 시스템 등 빠른 처리가 필요한 경우에는 일부 데이터를 중복하여 테이블을 단순화함.

3. **데이터 웨어하우스 (OLAP, 분석 시스템)** 
   - 다량의 데이터를 한 번에 조회해야 하는 경우, **정규화를 줄이고 중복된 데이터를 허용**하여 조회 속도를 높임.

---
